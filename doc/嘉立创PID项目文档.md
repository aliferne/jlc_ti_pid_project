> @所有人  小伙伴们，现在PID训练营项目已经进入到自主完成阶段
> 【截止时间】6月11号之前
> 
> 【拉黑提醒】领券后必须在规定时间内完成，不然会被拉进黑名单，领券的小伙伴注意规划好时间完成项目并开源
> 
> 【开源提醒】完成项目后要进行开源了。开源审核通过后，把进度改为【已开源】评奖时间：6.5~6.11
> 
> 【开源工程写得越好，越容易拿奖】：
> 1. 封面图：验证好的实物图；
> 2. 描述：完整的工程描述（简介、功能介绍、原理图说明、实物图、pcb设计说明、关键程序说明、重要物料购买、装配说明）
> 3. 视频：功能演示视频；
> 4. 附件：工程的源码或相关外壳文件等附件； 
> 例子：https://oshwhub.com/li-chuang-kai-fa-ban/cw32-shu-zi-dian-ya-dian-liu-biao-kai-fa-ban-tao-jian


# 立创·天猛星MSPM0G3507简易PID电机驱动项目

## 描述

### 零、设计背景

PID（Proportional-Integral-Derivative）控制器是一种经典的控制系统，它通过调整 比例（P）、积分（I）、微分（D）三个参数 来实现自动控制，核心是根据系统当前的误差值计算出合适的控制量，使系统输出稳定在目标值附近。由于PID的控制特性，它常被用在电赛的小车类项目，如平衡小车等。

学习PID控制器，可以让我们更好地理解控制系统的工作原理，提高我们的编程能力，并掌握通往电赛和其他类型的控制项目的关键秘诀。而这也是本项目的意义所在。

### 一、项目简介

本项目基于立创天猛星开发板，使用MSPM0G3507电机驱动芯片，实现了一个简易的PID电机驱动项目。通过调节PID参数，可以实现对电机的精确控制，包括速度控制和位置控制。项目特点如下：

1. 核心板+扩展版设计理念，采用可插拔的插件设计，在学习PID项目的同时，还能探索这款芯片的更多可能
2. 核心板采用TI的MSPM0芯片，为电赛指定芯片，降低日后学习成本
3. 项目上手难度较小，且综合性较高，不仅能够锻炼编程能力，还给足了大家自信
4. 在官方项目的的基础上引入摇杆控制模块和语音控制模块（TODO:），增强项目的可玩性

### 二、功能介绍

1. 电机速度控制：通过调节PID参数，实现对电机的精确速度控制
2. 电机位置控制：通过调节PID参数，实现对电机的精确位置控制
3. 摇杆控制：通过摇杆控制电机速度和方向
4. 语音控制：通过语音控制电机速度和方向
5. UI动效：将PID融入UI中，使得UI界面更加生动有趣

### 三、原理图说明

![电源电路原理图](./img/电源电路原理图.png)

电源电路采用一个 TYPE-C 接口输入 5V 电源，通过开关进行控制。其中有两个电源信号：MOTOR_VCC 和 +5V。

- MOTOR_VCC 是直接将TYPE-C的电源接入电机正负极。
- +5V 是由 MOTOR_VCC 经过一个防倒灌二极管 U0 后的电源，该电源接入到开发板的5V上，为开发板供电。

![电机驱动原理图](./img/电机驱动原理图.png)

电机驱动芯片U4采用巴丁微电子生产的BDR6126D，这款芯片为大功率直流电机驱动芯片，最大可承受`18V`电压，持续输出电流可达`4.5A`，同时由于电机在启动及快速正反转时会有较大的瞬时电流，因此增加了蓄能电容。

![按键电路](./img/按键电路.png)

为节约成本，按键电路并未设置硬件消抖措施，需要使用软件消抖。

![开发板电路](./img/开发板电路.png)